version: 0.2
env:
  variables:
    APP_NAME: "react-cicd-pipeline"
phases:
  install:
    runtime-versions:
      nodejs: 14.x
    commands:
      - echo install process started
      - echo ${CODEBUILD_BUILD_ID}
      - ${AWS_DEFAULT_REGION}
      - ${AWS_REGION}
      - ${CODEBUILD_BATCH_BUILD_IDENTIFIER}
      - ${CODEBUILD_BUILD_ARN}
      - ${CODEBUILD_BUILD_ID}
      - ${CODEBUILD_BUILD_IMAGE}
      - ${CODEBUILD_BUILD_NUMBER}
      - ${CODEBUILD_KMS_KEY_ID}
      - ${CODEBUILD_LOG_PATH}
      - ${CODEBUILD_PUBLIC_BUILD_URL}
      - ${CODEBUILD_RESOLVED_SOURCE_VERSION}
      - ${CODEBUILD_SOURCE_REPO_URL}
      - ${CODEBUILD_SOURCE_VERSION}
      - ${CODEBUILD_SRC_DIR}
      - ${CODEBUILD_START_TIME}
      - ${CODEBUILD_WEBHOOK_ACTOR_ACCOUNT_ID}
      - ${CODEBUILD_WEBHOOK_BASE_REF}
      - ${CODEBUILD_WEBHOOK_EVENT}
      - ${CODEBUILD_WEBHOOK_MERGE_COMMIT}
      - ${CODEBUILD_WEBHOOK_PREV_COMMIT}
      - ${CODEBUILD_WEBHOOK_HEAD_REF}
      - ${CODEBUILD_WEBHOOK_TRIGGER}
      - ${HOME}
      # - echo ${DB_USER}
      #- echo ${DB_PASS}
      #- npm install
  build:
    commands:
      - echo build process started now
 #     - {codepipeline.PipelineExecutionId}
 #     - npm run build  
#artifacts:
  # include all files required to run application
  # we include only the static build files
  #files:
  #  - '**/*'
  #base-directory: 'build'
